From 3e70803ae1c1a30a34c82b24f06afba3520a909e Mon Sep 17 00:00:00 2001
From: Thomas Witzel <witzel.thomas@gmail.com>
Date: Tue, 28 Mar 2023 16:42:58 -0700
Subject: [PATCH 1/2] Add snickerdoodle device trees

---
 arch/arm/boot/dts/Makefile                |  6 ++-
 arch/arm/boot/dts/snickerdoodle-black.dts | 60 +++++++++++++++++++++++
 arch/arm/boot/dts/snickerdoodle-one.dts   | 60 +++++++++++++++++++++++
 arch/arm/boot/dts/snickerdoodle-prime.dts | 60 +++++++++++++++++++++++
 arch/arm/boot/dts/snickerdoodle.dts       | 60 +++++++++++++++++++++++
 5 files changed, 245 insertions(+), 1 deletion(-)
 create mode 100644 arch/arm/boot/dts/snickerdoodle-black.dts
 create mode 100644 arch/arm/boot/dts/snickerdoodle-one.dts
 create mode 100644 arch/arm/boot/dts/snickerdoodle-prime.dts
 create mode 100644 arch/arm/boot/dts/snickerdoodle.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 27ca1ca6e827..a6e8fa3d0bf4 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -1372,7 +1372,11 @@ dtb-$(CONFIG_ARCH_ZYNQ) += \
 	zynq-zturn.dtb \
 	zynq-zturn-v5.dtb \
 	zynq-zybo.dtb \
-	zynq-zybo-z7.dtb
+	zynq-zybo-z7.dtb \
+	snickerdoodle-black.dtb \
+	snickerdoodle-one.dtb \
+	snickerdoodle-prime.dtb \
+	snickerdoodle.dtb
 dtb-$(CONFIG_MACH_ARMADA_370) += \
 	armada-370-db.dtb \
 	armada-370-dlink-dns327l.dtb \
diff --git a/arch/arm/boot/dts/snickerdoodle-black.dts b/arch/arm/boot/dts/snickerdoodle-black.dts
new file mode 100644
index 000000000000..28fc6fa77863
--- /dev/null
+++ b/arch/arm/boot/dts/snickerdoodle-black.dts
@@ -0,0 +1,60 @@
+/*
+ * snickerdoodle Black Development Platform
+ *
+ * Copyright (c) 2016 krtkl inc.
+ *
+ * SPDX-License-Identifier:     GPL-2.0+
+ */
+
+
+/dts-v1/;
+/include/ "zynq-7000.dtsi"
+/ {
+        model = "snickerdoodle Black";
+        compatible = "krtkl,snickerdoodle", "xlnx,zynq-7000";
+
+	aliases {
+		serial0 = &uart0;
+		spi0 = &qspi;
+		mmc0 = &sdhci0;
+	};
+
+	memory {
+		device_type = "memory";
+		reg = <0x0 0x40000000>;
+	};
+
+	chosen {
+                bootargs = "";
+                stdout-path = "serial0:115200n8";
+        };
+
+	cpus {
+		cpu@0 {
+			operating-points = <
+				/* kHz	uV */
+				866667	1000000
+				433334	1000000
+			>;
+		};
+	};
+};
+
+&clkc {
+	ps-clk-frequency = <33333333>;
+};
+
+&uart0 {
+	u-boot,dm-pre-reloc;
+	status = "okay";
+};
+
+&sdhci0 {
+	u-boot,dm-pre-reloc;
+        status = "okay";
+};
+
+&qspi {
+        u-boot,dm-pre-reloc;
+        status = "okay";
+};
diff --git a/arch/arm/boot/dts/snickerdoodle-one.dts b/arch/arm/boot/dts/snickerdoodle-one.dts
new file mode 100644
index 000000000000..fc91c0969964
--- /dev/null
+++ b/arch/arm/boot/dts/snickerdoodle-one.dts
@@ -0,0 +1,60 @@
+/*
+ * snickerdoodle One Development Platform
+ *
+ * Copyright (c) 2016 krtkl inc.
+ *
+ * SPDX-License-Identifier:     GPL-2.0+
+ */
+
+
+/dts-v1/;
+/include/ "zynq-7000.dtsi"
+/ {
+        model = "snickerdoodle One";
+        compatible = "krtkl,snickerdoodle-one", "krtkl,snickerdoodle", "xlnx,zynq-7000";
+
+	aliases {
+		serial0 = &uart0;
+		spi0 = &qspi;
+		mmc0 = &sdhci0;
+	};
+
+	memory {
+		device_type = "memory";
+		reg = <0x0 0x20000000>;
+	};
+
+	chosen {
+                bootargs = "";
+                stdout-path = "serial0:115200n8";
+        };
+
+	cpus {
+		cpu@0 {
+			operating-points = <
+				/* kHz	uV */
+				666667	1000000
+				333334	1000000
+			>;
+		};
+	};
+};
+
+&clkc {
+	ps-clk-frequency = <33333333>;
+};
+
+&uart0 {
+	u-boot,dm-pre-reloc;
+	status = "okay";
+};
+
+&sdhci0 {
+	u-boot,dm-pre-reloc;
+        status = "okay";
+};
+
+&qspi {
+        u-boot,dm-pre-reloc;
+        status = "okay";
+};
diff --git a/arch/arm/boot/dts/snickerdoodle-prime.dts b/arch/arm/boot/dts/snickerdoodle-prime.dts
new file mode 100644
index 000000000000..51716d37b5fb
--- /dev/null
+++ b/arch/arm/boot/dts/snickerdoodle-prime.dts
@@ -0,0 +1,60 @@
+/*
+ * snickerdoodle Prime Development Platform
+ *
+ * Copyright (c) 2016 krtkl inc.
+ *
+ * SPDX-License-Identifier:     GPL-2.0+
+ */
+
+
+/dts-v1/;
+/include/ "zynq-7000.dtsi"
+/ {
+        model = "snickerdoodle Prime";
+        compatible = "krtkl,snickerdoodle-prime", "krtkl,snickerdoodle", "xlnx,zynq-7000";
+
+	aliases {
+		serial0 = &uart0;
+		spi0 = &qspi;
+		mmc0 = &sdhci0;
+	};
+
+	memory {
+		device_type = "memory";
+		reg = <0x0 0x20000000>;
+	};
+
+	chosen {
+                bootargs = "";
+                stdout-path = "serial0:115200n8";
+        };
+
+	cpus {
+		cpu@0 {
+			operating-points = <
+				/* kHz	uV */
+				666667	1000000
+				333334	1000000
+			>;
+		};
+	};
+};
+
+&clkc {
+	ps-clk-frequency = <33333333>;
+};
+
+&uart0 {
+	u-boot,dm-pre-reloc;
+	status = "okay";
+};
+
+&sdhci0 {
+	u-boot,dm-pre-reloc;
+        status = "okay";
+};
+
+&qspi {
+        u-boot,dm-pre-reloc;
+        status = "okay";
+};
diff --git a/arch/arm/boot/dts/snickerdoodle.dts b/arch/arm/boot/dts/snickerdoodle.dts
new file mode 100644
index 000000000000..bb7219aac861
--- /dev/null
+++ b/arch/arm/boot/dts/snickerdoodle.dts
@@ -0,0 +1,60 @@
+/*
+ * snickerdoodle Development Platform
+ *
+ * Copyright (c) 2016 krtkl inc.
+ *
+ * SPDX-License-Identifier:     GPL-2.0+
+ */
+
+
+/dts-v1/;
+/include/ "zynq-7000.dtsi"
+/ {
+        model = "snickerdoodle";
+        compatible = "krtkl,snickerdoodle", "xlnx,zynq-7000";
+
+	aliases {
+		serial0 = &uart0;
+		spi0 = &qspi;
+		mmc0 = &sdhci0;
+	};
+
+	memory {
+		device_type = "memory";
+		reg = <0x0 0x40000000>;
+	};
+
+	chosen {
+                bootargs = "";
+                stdout-path = "serial0:115200n8";
+        };
+
+	cpus {
+		cpu@0 {
+			operating-points = <
+				/* kHz	uV */
+				666667	1000000
+				333334	1000000
+			>;
+		};
+	};
+};
+
+&clkc {
+	ps-clk-frequency = <33333333>;
+};
+
+&uart0 {
+	u-boot,dm-pre-reloc;
+	status = "okay";
+};
+
+&sdhci0 {
+	u-boot,dm-pre-reloc;
+        status = "okay";
+};
+
+&qspi {
+        u-boot,dm-pre-reloc;
+        status = "okay";
+};
-- 
2.37.2

